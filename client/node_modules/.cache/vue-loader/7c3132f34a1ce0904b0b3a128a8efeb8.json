{"remainingRequest":"/home/zyx/workspaces/python/server_management/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zyx/workspaces/python/server_management/client/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zyx/workspaces/python/server_management/client/src/views/Register.vue","mtime":1621573371813},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBpbWcgZnJvbSAiLi9pbWcvcmVnaXN0ZXIuanBnIjsKaW1wb3J0IHsgQVVUSF9TSUdOVVAgfSBmcm9tICJAL3N0b3JlL2FjdGlvbnMvYXV0aCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltZzogaW1nLAogICAgICBuYW1lOiAiIiwKICAgICAgaWRfbnVtYmVyOiAiIiwKICAgICAgcGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmVnaXN0ZXIoKSB7CiAgICAgIHRoaXMuJHJlZnMubG9hZGluZ0J1dHRvbi5zdGFydExvYWRpbmcoKTsKICAgICAgY29uc3QgeyBuYW1lLCBpZF9udW1iZXIsIHBhc3N3b3JkIH0gPSB0aGlzOwogICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaChBVVRIX1NJR05VUCwgeyBuYW1lLCBpZF9udW1iZXIsIHBhc3N3b3JkIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kcmVmcy5sb2FkaW5nQnV0dG9uLnN0b3BMb2FkaW5nKCk7CiAgICAgICAgICB0aGlzLiRzbmFjay5zdWNjZXNzKHsKICAgICAgICAgICAgdGV4dDoKICAgICAgICAgICAgICAiU3VjY2Vzc2Z1bGx5IHJlZ2lzdGVyZWQgdG8gIiArCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZ2V0dGVycy5hcHBOYW1lICsKICAgICAgICAgICAgICAiLiBQbGVhc2UgbG9nIGluIHRvIGNvbnRpbnVlLiIKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzLmxvYWRpbmdCdXR0b24uc3RvcExvYWRpbmcoKTsKICAgICAgICAgIHRoaXMuJHNuYWNrLmRhbmdlcih7CiAgICAgICAgICAgIHRleHQ6IGVycm9yLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIGltYWdlUHJvZ3Jlc3MoaW5zdGFuY2UsIGltYWdlICl7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gaW1hZ2UuaXNMb2FkZWQgPyAnbG9hZGVkJyA6ICdicm9rZW4nOwogICAgICAgIGNvbnNvbGUubG9nKCAnaW1hZ2UgaXMgJyArIHJlc3VsdCArICcgZm9yICcgKyBpbWFnZS5pbWcuc3JjICk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNwYXNzd29yZCIpOwogICAgY29uc3QgcGFzc3dvcmRGZWVkYmFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzdHJlbmd0aC1vdXRwdXQiKTsKICAgIGNvbnN0IHN0cmVuZ3RoU3RyID0gewogICAgICAwOiAiV29yc3QiLAogICAgICAxOiAiQmFkIiwKICAgICAgMjogIldlYWsiLAogICAgICAzOiAiR29vZCIsCiAgICAgIDQ6ICJTdHJvbmciCiAgICB9OwogICAgY29uc3QgY2FudmFzV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jYW52YXMtd3JhcCIpOwogICAgY29uc3QgY2FudmFzID0gY2FudmFzV3JhcHBlci5xdWVyeVNlbGVjdG9yKCJjYW52YXMiKTsKICAgIGNvbnN0IHBvc3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wb3N0ZXIiKTsKICAgIGNvbnN0IHBvc3RlckltZyA9IHBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UKICAgICAgLm1hdGNoKC9cKCguKj8pXCkvKVsxXQogICAgICAucmVwbGFjZSgvKCd8IikvZywgIiIpOwogICAgLy8gd2luZG93LmltYWdlc0xvYWRlZChwb3N0ZXIsICk7CiAgICAvLyBpbWFnZXNMb2FkZWQocG9zdGVyLCB7IGJhY2tncm91bmQ6IHRydWUgfSwgKCkgPT4gewogICAgLy8gICAvLyBvbiBjYWxsYmFjaywgYWRkIGlmIHlvdSBkZWVtIHNvbWV0aGluZyBuZWNlc3NhcnkKICAgIC8vIH0pOwoKICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSB3YXMgdGFrZW4gYW5kIG1vZGlmaWVkIGZyb20gaHR0cDovL2pzZmlkZGxlLm5ldC91NmFweGdmay8zOTAvCiAgICAvLyAoQykgS2VuIEZ5cnN0ZW5iZXJnLCBFcGlzdGVtZXgsIExpY2Vuc2U6IENDMy4wLWF0dHIKCiAgICAvLyBhbmQgbWVyZ2VkIHdpdGggaHR0cHM6Ly9jb2RlcGVuLmlvL2Jhc3N0YS9wZW4vT1BWenlCP2VkaXRvcnM9MTAxMAoKICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7CiAgICBsZXQgaW1nUmF0aW87CiAgICBsZXQgd3JhcHBlclJhdGlvOwogICAgbGV0IG5ld1dpZHRoOwogICAgbGV0IG5ld0hlaWdodDsKICAgIGxldCBuZXdYOwogICAgbGV0IG5ld1k7CgogICAgbGV0IHB4RmFjdG9yID0gMTsKCiAgICBpbWcuc3JjID0gcG9zdGVySW1nOwogICAgaW1nLm9ubG9hZCA9ICgpID0+IHsKICAgICAgY29uc3QgaW1nV2lkdGggPSBpbWcud2lkdGg7CiAgICAgIGNvbnN0IGltZ0hlaWdodCA9IGltZy5oZWlnaHQ7CiAgICAgIGltZ1JhdGlvID0gaW1nV2lkdGggLyBpbWdIZWlnaHQ7CiAgICAgIHNldENhbnZhc1NpemUoKTsKICAgICAgcmVuZGVyKCk7CiAgICB9OwoKICAgIGNvbnN0IHNldENhbnZhc1NpemUgPSAoKSA9PiB7CiAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhc1dyYXBwZXIub2Zmc2V0V2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNXcmFwcGVyLm9mZnNldEhlaWdodDsKICAgIH07CgogICAgY29uc3QgcmVuZGVyID0gKCkgPT4gewogICAgICBjb25zdCB3ID0gY2FudmFzV3JhcHBlci5vZmZzZXRXaWR0aDsKICAgICAgY29uc3QgaCA9IGNhbnZhc1dyYXBwZXIub2Zmc2V0SGVpZ2h0OwoKICAgICAgbmV3V2lkdGggPSB3OwogICAgICBuZXdIZWlnaHQgPSBoOwogICAgICBuZXdYID0gMDsKICAgICAgbmV3WSA9IDA7CiAgICAgIHdyYXBwZXJSYXRpbyA9IG5ld1dpZHRoIC8gbmV3SGVpZ2h0OwoKICAgICAgaWYgKHdyYXBwZXJSYXRpbyA+IGltZ1JhdGlvKSB7CiAgICAgICAgbmV3SGVpZ2h0ID0gTWF0aC5yb3VuZCh3IC8gaW1nUmF0aW8pOwogICAgICAgIG5ld1kgPSAoaCAtIG5ld0hlaWdodCkgLyAyOwogICAgICB9IGVsc2UgewogICAgICAgIG5ld1dpZHRoID0gTWF0aC5yb3VuZChoICogaW1nUmF0aW8pOwogICAgICAgIG5ld1ggPSAodyAtIG5ld1dpZHRoKSAvIDI7CiAgICAgIH0KCiAgICAgIC8vIHB4RmFjdG9yIHdpbGwgZGVwZW5kIG9uIHRoZSBjdXJyZW50IHR5cGVkIHBhc3N3b3JkLgogICAgICAvLyB2YWx1ZXMgd2lsbCBiZSBpbiB0aGUgcmFuZ2UgWzEsMTAwXS4KICAgICAgY29uc3Qgc2l6ZSA9IHB4RmFjdG9yICogMC4wMTsKCiAgICAgIC8vIHR1cm4gb2ZmIGltYWdlIHNtb290aGluZyAtIHRoaXMgd2lsbCBnaXZlIHRoZSBwaXhlbGF0ZWQgZWZmZWN0CiAgICAgIGN0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgPSBzaXplID09PSAxID8gdHJ1ZSA6IGZhbHNlOwogICAgICBjdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gc2l6ZSA9PT0gMSA/IHRydWUgOiBmYWxzZTsKICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHNpemUgPT09IDEgPyB0cnVlIDogZmFsc2U7CgogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIC8vIGRyYXcgb3JpZ2luYWwgaW1hZ2UgdG8gdGhlIHNjYWxlZCBzaXplCiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3ICogc2l6ZSwgaCAqIHNpemUpOwogICAgICAvLyB0aGVuIGRyYXcgdGhhdCBzY2FsZWQgaW1hZ2UgdGh1bWIgYmFjayB0byBmaWxsIGNhbnZhcwogICAgICAvLyBBcyBzbW9vdGhpbmcgaXMgb2ZmIHRoZSByZXN1bHQgd2lsbCBiZSBwaXhlbGF0ZWQKICAgICAgY3R4LmRyYXdJbWFnZSgKICAgICAgICBjYW52YXMsCiAgICAgICAgMCwKICAgICAgICAwLAogICAgICAgIHcgKiBzaXplLAogICAgICAgIGggKiBzaXplLAogICAgICAgIG5ld1gsCiAgICAgICAgbmV3WSwKICAgICAgICBuZXdXaWR0aCArIDAuMDUgKiB3LAogICAgICAgIG5ld0hlaWdodCArIDAuMDUgKiBoCiAgICAgICk7CiAgICB9OwoKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiB7CiAgICAgIHNldENhbnZhc1NpemUoKTsKICAgICAgcmVuZGVyKCk7CiAgICB9KTsKCiAgICBwYXNzd29yZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgKCkgPT4gewogICAgICBjb25zdCB2YWwgPSBwYXNzd29yZElucHV0LnZhbHVlOwogICAgICBjb25zdCByZXN1bHQgPSB3aW5kb3cuenhjdmJuKHZhbCk7CiAgICAgIC8vIFdlIHdhbnQgdG8gcmV2ZWFsIHRoZSBpbWFnZSBhcyB0aGUgcGFzc3dvcmQgZ2V0cyBzdHJvbmdlci4gU2luY2UgdGhlIHp4Y3Zibi5zY29yZSBoYXMKICAgICAgLy8gb25seSA1IGRpZmZlcmVudCB2YWx1ZXMgKDAtNCkgd2Ugd2lsbCB1c2UgdGhlIHp4Y3Zibi5ndWVzc2VzX2xvZzEwIG91dHB1dC4KICAgICAgLy8gVGhlIGd1ZXNzZXNfbG9nMTAgd2lsbCBiZSA+PSAxMSB3aGVuIHRoZSBwYXNzd29yZCBpcyBjb25zaWRlcmVkIHN0cm9uZywKICAgICAgLy8gc28gd2Ugd2FudCB0byBtYXAgYSBmYWN0b3Igb2YgMSAoYWxsIHBpeGVsYXRlZCkgdG8gMTAwIChjbGVhciBpbWFnZSkgdG8KICAgICAgLy8gYSB2YWx1ZSBvZiAwIHRvIDExIG9mIGd1ZXNzZXNfbG9nMTAuCiAgICAgIC8vIFRoaXMgcmVzdWx0IHdpbGwgYmUgdXNlZCBpbiB0aGUgcmVuZGVyIGZ1bmN0aW9uLgogICAgICBweEZhY3RvciA9ICg5OSAvIDExKSAqIE1hdGgubWluKDExLCBNYXRoLnJvdW5kKHJlc3VsdC5ndWVzc2VzX2xvZzEwKSkgKyAxOwoKICAgICAgLy8gc28gd2Ugc2VlIG1vc3Qgb2YgdGhlIHRpbWUgcGl4ZWxzIHJhdGhlciB0aGFuIGFwcHJvYWNoaW5nIGEgY2xlYXIgaW1hZ2Ugc29vbmVyLi4KICAgICAgaWYgKHB4RmFjdG9yICE9IDEgJiYgcHhGYWN0b3IgIT0gMTAwKSB7CiAgICAgICAgcHhGYWN0b3IgLT0gKHB4RmFjdG9yIC8gMTAwKSAqIDUwOwogICAgICB9CgogICAgICBwYXNzd29yZEZlZWRiYWNrLmlubmVySFRNTCA9CiAgICAgICAgdmFsICE9PSAiIiA/IGBQYXNzd29yZCBzdHJlbmd0aDogJHtzdHJlbmd0aFN0cltyZXN1bHQuc2NvcmVdfWAgOiAiIjsKICAgICAgcmVuZGVyKCk7CiAgICB9KTsKICB9Cn07Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"auth-page loading\">\n    <main>\n      <div class=\"content content--side\">\n        <header class=\"codrops-header uk-flex uk-flex-center\">\n          <h1 class=\"uk-margin-remove uk-text-center\">\n            Welcome to {{ $store.getters.appName }}\n          </h1>\n          <p class=\"\">Fill in the form and get started today!</p>\n        </header>\n        <div class=\"form\">\n          <div class=\"form__item\">\n            <label class=\"form__label\" for=\"name\">Name</label>\n            <input class=\"form__input\" type=\"text\" v-model=\"name\" id=\"name\" />\n          </div>\n          <div class=\"form__item\">\n            <label class=\"form__label\" for=\"id_number\">Student Number</label>\n            <input\n              class=\"form__input\"\n              type=\"text\"\n              v-model=\"id_number\"\n              id=\"id_number\"\n            />\n          </div>\n          <div class=\"form__item\">\n            <label class=\"form__label\" for=\"password\">Password</label>\n            <div class=\"form__input-wrap\">\n              <input\n                class=\"form__input\"\n                type=\"password\"\n                v-model=\"password\"\n                id=\"password\"\n              />\n              <p class=\"form__password-strength\" id=\"strength-output\"></p>\n            </div>\n          </div>\n          <div\n            class=\"uk-flex uk-flex-center uk-flex-middle uk-margin-medium-top uk-visible@s\"\n          >\n            <span uk-icon=\"icon: info; ratio: 3;\"></span>\n            <span class=\"uk-margin-left\">\n              <small\n                >We strongly recommend that you register an account carefully, \n                the registration subsystem is not perfect yet!</small\n              >\n            </span>\n          </div>\n          <div class=\"form__item form__item--actions\">\n            <span\n              >Already have an account?\n              <router-link class=\"form__link\" to=\"/login\"\n                >Login here</router-link\n              >\n            </span>\n            <button-spinner ref=\"loadingButton\" @click=\"register()\"\n              >Register</button-spinner\n            >\n          </div>\n        </div>\n      </div>\n      <div class=\"content content--side\">\n        <div class=\"poster\" :style=\"'background-image:url(' + img + ')'\" v-images-loaded:on.progress=\"imageProgress\"></div>\n        <div class=\"canvas-wrap\">\n          <canvas></canvas>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nimport img from \"./img/register.jpg\";\nimport { AUTH_SIGNUP } from \"@/store/actions/auth\";\n\nexport default {\n  data() {\n    return {\n      img: img,\n      name: \"\",\n      id_number: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    register() {\n      this.$refs.loadingButton.startLoading();\n      const { name, id_number, password } = this;\n      this.$store\n        .dispatch(AUTH_SIGNUP, { name, id_number, password })\n        .then(() => {\n          this.$refs.loadingButton.stopLoading();\n          this.$snack.success({\n            text:\n              \"Successfully registered to \" +\n              this.$store.getters.appName +\n              \". Please log in to continue.\"\n          });\n          this.$router.push(\"/\");\n        })\n        .catch(error => {\n          this.$refs.loadingButton.stopLoading();\n          this.$snack.danger({\n            text: error.message\n          });\n        });\n    },\n    imageProgress(instance, image ){\n        const result = image.isLoaded ? 'loaded' : 'broken';\n        console.log( 'image is ' + result + ' for ' + image.img.src );\n    }\n  },\n  mounted() {\n    const passwordInput = document.querySelector(\"#password\");\n    const passwordFeedback = document.querySelector(\"#strength-output\");\n    const strengthStr = {\n      0: \"Worst\",\n      1: \"Bad\",\n      2: \"Weak\",\n      3: \"Good\",\n      4: \"Strong\"\n    };\n    const canvasWrapper = document.querySelector(\".canvas-wrap\");\n    const canvas = canvasWrapper.querySelector(\"canvas\");\n    const poster = document.querySelector(\".poster\");\n    const posterImg = poster.style.backgroundImage\n      .match(/\\((.*?)\\)/)[1]\n      .replace(/('|\")/g, \"\");\n    // window.imagesLoaded(poster, );\n    // imagesLoaded(poster, { background: true }, () => {\n    //   // on callback, add if you deem something necessary\n    // });\n\n    // The following code was taken and modified from http://jsfiddle.net/u6apxgfk/390/\n    // (C) Ken Fyrstenberg, Epistemex, License: CC3.0-attr\n\n    // and merged with https://codepen.io/bassta/pen/OPVzyB?editors=1010\n\n    const ctx = canvas.getContext(\"2d\");\n    const img = new Image();\n    let imgRatio;\n    let wrapperRatio;\n    let newWidth;\n    let newHeight;\n    let newX;\n    let newY;\n\n    let pxFactor = 1;\n\n    img.src = posterImg;\n    img.onload = () => {\n      const imgWidth = img.width;\n      const imgHeight = img.height;\n      imgRatio = imgWidth / imgHeight;\n      setCanvasSize();\n      render();\n    };\n\n    const setCanvasSize = () => {\n      canvas.width = canvasWrapper.offsetWidth;\n      canvas.height = canvasWrapper.offsetHeight;\n    };\n\n    const render = () => {\n      const w = canvasWrapper.offsetWidth;\n      const h = canvasWrapper.offsetHeight;\n\n      newWidth = w;\n      newHeight = h;\n      newX = 0;\n      newY = 0;\n      wrapperRatio = newWidth / newHeight;\n\n      if (wrapperRatio > imgRatio) {\n        newHeight = Math.round(w / imgRatio);\n        newY = (h - newHeight) / 2;\n      } else {\n        newWidth = Math.round(h * imgRatio);\n        newX = (w - newWidth) / 2;\n      }\n\n      // pxFactor will depend on the current typed password.\n      // values will be in the range [1,100].\n      const size = pxFactor * 0.01;\n\n      // turn off image smoothing - this will give the pixelated effect\n      ctx.mozImageSmoothingEnabled = size === 1 ? true : false;\n      ctx.webkitImageSmoothingEnabled = size === 1 ? true : false;\n      ctx.imageSmoothingEnabled = size === 1 ? true : false;\n\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      // draw original image to the scaled size\n      ctx.drawImage(img, 0, 0, w * size, h * size);\n      // then draw that scaled image thumb back to fill canvas\n      // As smoothing is off the result will be pixelated\n      ctx.drawImage(\n        canvas,\n        0,\n        0,\n        w * size,\n        h * size,\n        newX,\n        newY,\n        newWidth + 0.05 * w,\n        newHeight + 0.05 * h\n      );\n    };\n\n    window.addEventListener(\"resize\", () => {\n      setCanvasSize();\n      render();\n    });\n\n    passwordInput.addEventListener(\"input\", () => {\n      const val = passwordInput.value;\n      const result = window.zxcvbn(val);\n      // We want to reveal the image as the password gets stronger. Since the zxcvbn.score has\n      // only 5 different values (0-4) we will use the zxcvbn.guesses_log10 output.\n      // The guesses_log10 will be >= 11 when the password is considered strong,\n      // so we want to map a factor of 1 (all pixelated) to 100 (clear image) to\n      // a value of 0 to 11 of guesses_log10.\n      // This result will be used in the render function.\n      pxFactor = (99 / 11) * Math.min(11, Math.round(result.guesses_log10)) + 1;\n\n      // so we see most of the time pixels rather than approaching a clear image sooner..\n      if (pxFactor != 1 && pxFactor != 100) {\n        pxFactor -= (pxFactor / 100) * 50;\n      }\n\n      passwordFeedback.innerHTML =\n        val !== \"\" ? `Password strength: ${strengthStr[result.score]}` : \"\";\n      render();\n    });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../styles/auth-styles\";\n</style>\n"]}]}