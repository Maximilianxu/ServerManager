{"remainingRequest":"/home/zyx/workspaces/python/server_management/client/node_modules/babel-loader/lib/index.js!/home/zyx/workspaces/python/server_management/client/node_modules/eslint-loader/index.js??ref--13-0!/home/zyx/workspaces/python/server_management/client/src/utils/api.js","dependencies":[{"path":"/home/zyx/workspaces/python/server_management/client/src/utils/api.js","mtime":1621060726724},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvenl4L3dvcmtzcGFjZXMvcHl0aG9uL3NlcnZlcl9tYW5hZ2VtZW50L2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAiL2hvbWUvenl4L3dvcmtzcGFjZXMvcHl0aG9uL3NlcnZlcl9tYW5hZ2VtZW50L2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICJAL3NldHRpbmdzIjsKdmFyIEFQSV9TRVJWRVIgPSBzZXR0aW5ncy5BUElfU0VSVkVSOwpleHBvcnQgdmFyIGFwaV9yb3V0ZXMgPSB7CiAgdXNlcjogewogICAgbG9naW46IEFQSV9TRVJWRVIgKyAiYXV0aC9sb2dpbiIsCiAgICBzaWdudXA6IEFQSV9TRVJWRVIgKyAiYXV0aC9zaWdudXAiLAogICAgbWU6IEFQSV9TRVJWRVIgKyAiYXV0aC9tZSIKICB9Cn07CmV4cG9ydCB2YXIgYXBpQ2FsbCA9IGZ1bmN0aW9uIGFwaUNhbGwoX3JlZikgewogIHZhciB1cmwgPSBfcmVmLnVybCwKICAgICAgbWV0aG9kID0gX3JlZi5tZXRob2QsCiAgICAgIGFyZ3MgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgWyJ1cmwiLCAibWV0aG9kIl0pOwoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXItdG9rZW4iKSB8fCAiIjsKICAgIGlmICh0b2tlbikgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bIkF1dGhvcml6YXRpb24iXSA9ICJCZWFyZXIgIiArIHRva2VuOwoKICAgIHRyeSB7CiAgICAgIGF4aW9zKF9vYmplY3RTcHJlYWQoewogICAgICAgIG1ldGhvZDogbWV0aG9kIHx8ICJnZXQiLAogICAgICAgIHVybDogdXJsCiAgICAgIH0sIGFyZ3MpKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgcmVzb2x2ZShyZXNwLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICByZWplY3QobmV3IEVycm9yKGVycikpOwogICAgfQogIH0pOwp9Ow=="},{"version":3,"sources":["/home/zyx/workspaces/python/server_management/client/src/utils/api.js"],"names":["axios","settings","API_SERVER","api_routes","user","login","signup","me","apiCall","url","method","args","Promise","resolve","reject","token","localStorage","getItem","defaults","headers","common","then","resp","data","catch","error","err","Error"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,YAAzB;AAEA,IAAMC,UAAU,GAAGD,QAAQ,CAACC,UAA5B;AAEA,OAAO,IAAMC,UAAU,GAAG;AACxBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAEH,UAAU,GAAG,YADhB;AAEJI,IAAAA,MAAM,EAAEJ,UAAU,GAAG,aAFjB;AAGJK,IAAAA,EAAE,EAAEL,UAAU,GAAG;AAHb;AADkB,CAAnB;AAQP,OAAO,IAAMM,OAAO,GAAG,SAAVA,OAAU;AAAA,MAAGC,GAAH,QAAGA,GAAH;AAAA,MAAQC,MAAR,QAAQA,MAAR;AAAA,MAAmBC,IAAnB;;AAAA,SACrB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC/B,QAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,EAAlD;AAEA,QAAIF,KAAJ,EACEf,KAAK,CAACkB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYL,KAA7D;;AAEF,QAAI;AACFf,MAAAA,KAAK;AACHU,QAAAA,MAAM,EAAEA,MAAM,IAAI,KADf;AAEHD,QAAAA,GAAG,EAAEA;AAFF,SAGAE,IAHA,EAAL,CAKGU,IALH,CAKQ,UAAAC,IAAI,EAAI;AACZT,QAAAA,OAAO,CAACS,IAAI,CAACC,IAAN,CAAP;AACD,OAPH,EAQGC,KARH,CAQS,UAAAC,KAAK,EAAI;AACdX,QAAAA,MAAM,CAACW,KAAD,CAAN;AACD,OAVH;AAWD,KAZD,CAYE,OAAOC,GAAP,EAAY;AACZZ,MAAAA,MAAM,CAAC,IAAIa,KAAJ,CAAUD,GAAV,CAAD,CAAN;AACD;AACF,GArBD,CADqB;AAAA,CAAhB","sourcesContent":["import axios from \"axios\";\nimport { settings } from \"@/settings\";\n\nconst API_SERVER = settings.API_SERVER;\n\nexport const api_routes = {\n  user: {\n    login: API_SERVER + \"auth/login\",\n    signup: API_SERVER + \"auth/signup\",\n    me: API_SERVER + \"auth/me\"\n  }\n};\n\nexport const apiCall = ({ url, method, ...args }) =>\n  new Promise((resolve, reject) => {\n    let token = localStorage.getItem(\"user-token\") || \"\";\n\n    if (token)\n      axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + token;\n\n    try {\n      axios({\n        method: method || \"get\",\n        url: url,\n        ...args\n      })\n        .then(resp => {\n          resolve(resp.data);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    } catch (err) {\n      reject(new Error(err));\n    }\n  });\n"]}]}