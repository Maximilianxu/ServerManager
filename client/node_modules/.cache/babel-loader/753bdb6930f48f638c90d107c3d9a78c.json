{"remainingRequest":"/home/zyx/workspaces/python/server_management/client/node_modules/babel-loader/lib/index.js!/home/zyx/workspaces/python/server_management/client/node_modules/eslint-loader/index.js??ref--13-0!/home/zyx/workspaces/python/server_management/client/src/utils/api.js","dependencies":[{"path":"/home/zyx/workspaces/python/server_management/client/src/utils/api.js","mtime":1621167948745},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvenl4L3dvcmtzcGFjZXMvcHl0aG9uL3NlcnZlcl9tYW5hZ2VtZW50L2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAiL2hvbWUvenl4L3dvcmtzcGFjZXMvcHl0aG9uL3NlcnZlcl9tYW5hZ2VtZW50L2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICJAL3NldHRpbmdzIjsKdmFyIEFQSV9TRVJWRVIgPSBzZXR0aW5ncy5BUElfU0VSVkVSOwpleHBvcnQgdmFyIGFwaV9yb3V0ZXMgPSB7CiAgdXNlcjogewogICAgbG9naW46IEFQSV9TRVJWRVIgKyAiYXV0aC9sb2dpbiIsCiAgICBzaWdudXA6IEFQSV9TRVJWRVIgKyAiYXV0aC9zaWdudXAiLAogICAgcHJvZmlsZTogQVBJX1NFUlZFUiArICJwcm9maWxlIiwKICAgIGluc3RhbmNlczogQVBJX1NFUlZFUiArICJpbnN0YW5jZXMiLAogICAgYXBwbHk6IEFQSV9TRVJWRVIgKyAiYXBwbHkiLAogICAgYXBwbGllZDogQVBJX1NFUlZFUiArICJhcHBsaWVkIiwKICAgIHJlbGVhc2U6IEFQSV9TRVJWRVIgKyAicmVsZWFzZSIKICB9Cn07CmV4cG9ydCB2YXIgYXBpQ2FsbCA9IGZ1bmN0aW9uIGFwaUNhbGwoX3JlZikgewogIHZhciB1cmwgPSBfcmVmLnVybCwKICAgICAgbWV0aG9kID0gX3JlZi5tZXRob2QsCiAgICAgIGFyZ3MgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgWyJ1cmwiLCAibWV0aG9kIl0pOwoKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXItdG9rZW4iKSB8fCAiICI7CiAgICBjb25zb2xlLmxvZygidG9rZW4iLCB0b2tlbik7CiAgICBpZiAodG9rZW4pIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWyJBdXRob3JpemF0aW9uIl0gPSB0b2tlbjsKCiAgICB0cnkgewogICAgICBjb25zb2xlLmxvZygiYXBpIGNhbGwiLCB1cmwpOwogICAgICBheGlvcyhfb2JqZWN0U3ByZWFkKHsKICAgICAgICBtZXRob2Q6IG1ldGhvZCB8fCAiZ2V0IiwKICAgICAgICB1cmw6IHVybAogICAgICB9LCBhcmdzKSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIHJlc29sdmUocmVzcC5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgcmVqZWN0KG5ldyBFcnJvcihlcnIpKTsKICAgIH0KICB9KTsKfTs="},{"version":3,"sources":["/home/zyx/workspaces/python/server_management/client/src/utils/api.js"],"names":["axios","settings","API_SERVER","api_routes","user","login","signup","profile","instances","apply","applied","release","apiCall","url","method","args","Promise","resolve","reject","token","localStorage","getItem","console","log","defaults","headers","common","then","resp","data","catch","error","err","Error"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,YAAzB;AAEA,IAAMC,UAAU,GAAGD,QAAQ,CAACC,UAA5B;AAEA,OAAO,IAAMC,UAAU,GAAG;AACxBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAEH,UAAU,GAAG,YADhB;AAEJI,IAAAA,MAAM,EAAEJ,UAAU,GAAG,aAFjB;AAGJK,IAAAA,OAAO,EAAEL,UAAU,GAAG,SAHlB;AAIJM,IAAAA,SAAS,EAAEN,UAAU,GAAG,WAJpB;AAKJO,IAAAA,KAAK,EAAEP,UAAU,GAAG,OALhB;AAMJQ,IAAAA,OAAO,EAAER,UAAU,GAAG,SANlB;AAOJS,IAAAA,OAAO,EAAET,UAAU,GAAG;AAPlB;AADkB,CAAnB;AAYP,OAAO,IAAMU,OAAO,GAAG,SAAVA,OAAU;AAAA,MAAGC,GAAH,QAAGA,GAAH;AAAA,MAAQC,MAAR,QAAQA,MAAR;AAAA,MAAmBC,IAAnB;;AAAA,SACrB,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC/B,QAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,KAAsC,GAAlD;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,KAArB;AACA,QAAIA,KAAJ,EACEnB,KAAK,CAACwB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDP,KAAjD;;AAEF,QAAI;AACFG,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBV,GAAxB;AACAb,MAAAA,KAAK;AACHc,QAAAA,MAAM,EAAEA,MAAM,IAAI,KADf;AAEHD,QAAAA,GAAG,EAAEA;AAFF,SAGAE,IAHA,EAAL,CAKCY,IALD,CAKM,UAAAC,IAAI,EAAI;AACZX,QAAAA,OAAO,CAACW,IAAI,CAACC,IAAN,CAAP;AACD,OAPD,EAQCC,KARD,CAQO,UAAAC,KAAK,EAAI;AACdb,QAAAA,MAAM,CAACa,KAAD,CAAN;AACD,OAVD;AAWD,KAbD,CAaE,OAAOC,GAAP,EAAY;AACZd,MAAAA,MAAM,CAAC,IAAIe,KAAJ,CAAUD,GAAV,CAAD,CAAN;AACD;AACF,GAtBD,CADqB;AAAA,CAAhB","sourcesContent":["import axios from \"axios\";\nimport { settings } from \"@/settings\";\n\nconst API_SERVER = settings.API_SERVER;\n\nexport const api_routes = {\n  user: {\n    login: API_SERVER + \"auth/login\",\n    signup: API_SERVER + \"auth/signup\",\n    profile: API_SERVER + \"profile\",\n    instances: API_SERVER + \"instances\",\n    apply: API_SERVER + \"apply\",\n    applied: API_SERVER + \"applied\",\n    release: API_SERVER + \"release\",\n  }\n};\n\nexport const apiCall = ({ url, method, ...args }) =>\n  new Promise((resolve, reject) => {\n    let token = localStorage.getItem(\"user-token\") || \" \";\n    console.log(\"token\", token);\n    if (token)\n      axios.defaults.headers.common[\"Authorization\"] = token;\n\n    try {\n      console.log(\"api call\", url);\n      axios({\n        method: method || \"get\",\n        url: url,\n        ...args\n      })\n      .then(resp => {\n        resolve(resp.data);\n      })\n      .catch(error => {\n        reject(error);\n      });\n    } catch (err) {\n      reject(new Error(err));\n    }\n  });\n"]}]}