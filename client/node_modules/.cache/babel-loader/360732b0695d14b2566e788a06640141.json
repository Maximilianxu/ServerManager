{"remainingRequest":"/home/zyx/workspaces/python/server_management/client/node_modules/babel-loader/lib/index.js!/home/zyx/workspaces/python/server_management/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/zyx/workspaces/python/server_management/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/zyx/workspaces/python/server_management/client/src/views/Applied.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/zyx/workspaces/python/server_management/client/src/views/Applied.vue","mtime":1621509078985},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zyx/workspaces/python/server_management/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFwaV9yb3V0ZXMsIGFwaUNhbGwgfSBmcm9tICdAL3V0aWxzL2FwaSc7CmltcG9ydCBEYXRhVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL0RhdGFUYWJsZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYmlnVGFibGUnLAogIGNvbXBvbmVudHM6IHsKICAgIERhdGFUYWJsZTogRGF0YVRhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXBwbGllZFVSTDogYXBpX3JvdXRlcy51c2VyLmFwcGxpZWQsCiAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICB0YWJsZUtleTogMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBncHVGb3JtYXQ6IGZ1bmN0aW9uIGdwdUZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gcm93LmdwdV9udW0gKyAi5Y2hIjsKICAgIH0sCiAgICB0aW1lRm9ybWF0OiBmdW5jdGlvbiB0aW1lRm9ybWF0KHJvdywgY29sdW1uKSB7CiAgICAgIHJldHVybiByb3cubGVmdF90aW1lICsgIuWkqSI7CiAgICB9LAogICAgc3RhdHVzRm9ybWF0OiBmdW5jdGlvbiBzdGF0dXNGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgc3RhdHVzID0gcm93LnN0YXR1czsKCiAgICAgIGlmIChzdGF0dXMgPT0gIndhaXQiKSB7CiAgICAgICAgcmV0dXJuICLmjpLpmJ/kuK0iOwogICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PSAiYWxsb2NhdGVkIikgewogICAgICAgIHJldHVybiAi5bey5YiG6YWNIjsKICAgICAgfQoKICAgICAgcmV0dXJuICJFcnJvciBTdGF0dXMiOwogICAgfSwKICAgIHBvcnRGb3JtYXQ6IGZ1bmN0aW9uIHBvcnRGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgaWYgKHJvdy5zdGF0dXMgPT0gImFsbG9jYXRlZCIpIHsKICAgICAgICByZXR1cm4gcm93LnBvcnQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJ4eHh4IjsKICAgICAgfQogICAgfSwKICAgIHRhYmxlUm93Q2xhc3NOYW1lOiBmdW5jdGlvbiB0YWJsZVJvd0NsYXNzTmFtZShfcmVmKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdywKICAgICAgICAgIHJvd0luZGV4ID0gX3JlZi5yb3dJbmRleDsKCiAgICAgIGlmIChyb3dJbmRleCA9PT0gMSkgewogICAgICAgIHJldHVybiAnd2FybmluZy1yb3cnOwogICAgICB9IGVsc2UgaWYgKHJvd0luZGV4ID09PSAzKSB7CiAgICAgICAgcmV0dXJuICdzdWNjZXNzLXJvdyc7CiAgICAgIH0KCiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgICBoYW5kbGVSZWxlYXNlOiBmdW5jdGlvbiBoYW5kbGVSZWxlYXNlKHJvd19pbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbmFtZSA9IHJvdy5uYW1lOwogICAgICB2YXIgcmVsZWFzZVVSTCA9IGFwaV9yb3V0ZXMudXNlci5yZWxlYXNlOwogICAgICB0aGlzLiRjb25maXJtKCfov5nkvJrph4rmlL7otYTmupDvvIzml6DorrrmmK/lkKblt7LooqvliIbphY3vvIznoa7orqTlkJcnLCAnV2FybmluZycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruiupCcsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfotYTmupDlt7Lph4rmlL4nCiAgICAgICAgfSk7CgogICAgICAgIGFwaUNhbGwoewogICAgICAgICAgdXJsOiByZWxlYXNlVVJMLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICB9LAogICAgICAgICAgbWV0aG9kOiAiZGVsZXRlIgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwLm1lc3NhZ2UKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLnRhYmxlS2V5ICs9IDE7CiAgICAgICAgICBjb25zb2xlLmxvZygidGFibGUga2V5IGluIHRoZW46ICIsIF90aGlzLnRhYmxlS2V5KTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflj5bmtojph4rmlL4nCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzLnRhYmxlS2V5ICs9IDE7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Applied.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <data-table\n      ref=\"dateTable\"\n      :apiUrl=\"appliedURL\"\n      :row-class-name=\"tableRowClassName\"\n      :key=\"tableKey\"\n    >\n    <template slot=\"columns\" style=\"width: 100%\" >\n      <el-table-column prop=\"name\" label=\"实例\" align=\"center\" :min-width=\"20\">\n      </el-table-column>\n      <el-table-column prop=\"gpu_num\" label=\"GPU 配置\" align=\"center\" :min-width=\"20\"\n        :formatter=\"gpuFormat\">\n      </el-table-column>\n      <el-table-column prop=\"left_time\" label=\"时长\" align=\"center\" :min-width=\"20\"\n        :formatter=\"timeFormat\">\n      </el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\" align=\"center\" :min-width=\"10\"\n        :formatter=\"statusFormat\">\n      </el-table-column>\n      <el-table-column prop=\"port\" label=\"端口\" align=\"center\" :min-width=\"20\"\n        :formatter=\"portFormat\">\n      </el-table-column>\n      <el-table-column label=\"密码\" align=\"center\" prop=\"password\" :min-width=\"50\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-right:1.25em; \">{{scope.row.password}}</span> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n          <el-button\n            class=\"copyBtn\"\n            data-clipboard-action=\"copy\"\n            data-clipboard-target=\"#bar\"\n            icon=\"el-icon-copy-document\"\n            round\n            size=\"mini\"\n          >copy</el-button>\n          <el-button\n            class=\"copyBtn\"\n            data-clipboard-action=\"copy\"\n            data-clipboard-target=\"#bar\"\n            icon=\"el-icon-view\"\n            round\n            size=\"mini\"\n          >show</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column\n      label=\"操作\"\n      align=\"center\">\n      <template slot-scope=\"scope\" prop=\"operation\" :min-width=\"10\">\n        <el-button\n          type=\"danger\"\n          size=\"mini\"\n          icon=\"el-icon-delete\"\n          @click=\"handleRelease(scope.$index, scope.row)\">释放</el-button>\n      </template>\n    </el-table-column>\n    </template>\n    </data-table>\n  </div>\n</template>\n\n<script>\nimport {api_routes, apiCall} from '@/utils/api';\nimport DataTable from '@/components/DataTable';\n\nexport default {\n  name: 'bigTable',\n  components: {\n    DataTable,\n  },\n  data() {\n    return {\n      appliedURL: api_routes.user.applied,\n      method: \"post\", \n      tableKey: 0,\n    };\n  },\n  mounted() {},\n  methods: {\n    gpuFormat(row, column) {\n      return row.gpu_num + \"卡\";\n    },\n    timeFormat(row, column) {\n      return row.left_time + \"天\";\n    },\n    statusFormat(row, column) {\n      status = row.status;\n      if (status == \"wait\") {\n        return \"排队中\";\n      }else if (status == \"allocated\"){\n        return \"已分配\";\n      }\n      return \"Error Status\";\n    },\n    portFormat(row, column){\n      if (row.status == \"allocated\"){\n        return row.port;\n      }else{\n        return \"xxxx\";\n      }\n    },\n    tableRowClassName({row, rowIndex}) {\n      if (rowIndex === 1) {\n        return 'warning-row';\n      } else if (rowIndex === 3) {\n        return 'success-row';\n      }\n      return '';\n    },\n    handleRelease(row_index, row){\n      let {name} = row;\n      let releaseURL = api_routes.user.release;\n      this.$confirm('这会释放资源，无论是否已被分配，确认吗', 'Warning', {\n        confirmButtonText: '确认',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$message({\n          type: 'success',\n          message: '资源已释放'\n        });\n        \n        apiCall({url: releaseURL, data: {name}, method: \"delete\"})\n          .then(resp => {\n            this.$message({type: 'info', message: resp.message});\n            this.tableKey += 1;\n            console.log(\"table key in then: \", this.tableKey);});\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '取消释放'\n        });   \n        this.tableKey += 1;             \n      });\n    }\n  },\n};\n</script>\n\n<style>\n.el-table .warning-row {\n  background: oldlace;\n}\n\n.el-table .success-row {\n  background: #f0f9eb;\n}\n</style>"],"sourceRoot":"src/views"}]}