{"version":3,"file":"vue-snack.min.js","sources":["../src/plugin/Snackbar.vue","../src/plugin/defaults.js","../src/plugin/index.js","../libentry.js"],"sourcesContent":["<template>\n  <transition name=\"snack\">\n    <div\n      v-if=\"active\"\n      :style=\"styles\"\n      class=\"snackbar\"\n      :class=\"config.position\">\n      <div class=\"snackbar__text\">{{ text }}</div>\n      <template v-if=\"button\">\n        <div\n          @click.prevent=\"action\"\n          class=\"snackbar__action\">{{ button }}</div>\n      </template>\n      <template v-if=\"config.close\">\n        <div\n          @click=\"$emit('close')\"\n          class=\"times\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n            <path fill=\"#E3E3E3\" d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n            <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n          </svg>\n        </div>\n      </template>\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  name: 'Snackbar',\n  props: {\n    config: Object\n  },\n  data: _ => ({\n    active: false,\n    text: '',\n    button: '',\n    theme: 'default',\n    action: null\n  }),\n  computed: {\n    styles () {\n      return `--primary: ${this.config[this.theme].primary}`\n    }\n  }\n}\n</script>\n","export default {\n  default: {\n    primary: '#2C89F1'\n  },\n  success: {\n    primary: '#00DEB2'\n  },\n  danger: {\n    primary: '#FF0057',\n  },\n  background: '#353535',\n  text: '#E3E3E3',\n  time: 7500,\n  position: 'bottom',\n  close: false\n}\n","//\n// vue PlugIn\n//\nimport Snack from './Snackbar.vue'\nimport Default from './defaults'\n\nlet Constructor\nlet component = null\nlet timeout = null\nlet closing = null\nlet options = null\nconst config = {}\nconst methods = {\n  danger: 'danger',\n  show: 'default',\n  success: 'success'\n}\n\nconst sleep = time => new Promise((resolve, reject) => setTimeout(_ => resolve(), time))\n\nconst create = parent => {\n  document.addEventListener('DOMContentLoaded', event => { \n    let div = document.createElement('div')\n    div.id = 'snackbar-' + Date.now()\n    document.body.appendChild(div)\n    config.config = Default\n    component = new Constructor({\n      propsData: config\n      // parent\n    })\n    component.$on('close', _ => close())\n    component.$mount('#' + div.id)\n  })\n}\n\nconst close = function () {\n  component.active = false\n  clearTimeout(timeout)\n}\n\nconst actions = async (params, theme) => {\n  options = params\n  if (component.active && closing) {\n    return\n  }\n  if (component.active) {\n    close()\n    closing = true\n    await sleep(400)\n    closing = false\n  }\n  if (typeof options === 'string') {\n    options = { text: options }\n  }\n  let fn = options.action\n  options.action = async () => {\n    if (!fn) {\n      return close()\n    }\n    fn()\n    close()\n  }\n\n  Object.assign(config.config, Default[theme])\n  Object.assign(component, Object.assign({}, options, { theme }))\n  component.active = true\n  timeout = setTimeout(close, Default.time)\n}\n\nconst $snack = (opt) => {\n  let vm = this\n  let news = {}\n  let themes = {}\n  opt.methods = opt.methods || []\n  opt.methods.forEach(item => {\n    news[item.name] = item.name\n    themes[item.name] = {\n      primary: item.color || Default.default.primary\n    }\n  })\n  Object.assign(Default, themes)\n  let all = {}\n  let meth = Object.assign({}, methods, news)\n  for (let m in meth) {\n    all[m] = params => actions(params, meth[m])\n  }\n  return all\n}\n\nconst plugin = {\n  install (Vue, options = {}) {\n    Constructor = Vue.extend(Snack)\n    create()\n    Object.assign(Default, options)\n    Vue.prototype.$snack = $snack(options)\n  }\n}\n\nexport default plugin\n\n","import './src/styles/styles.scss'\nimport plugin from './src/plugin/index.js'\nexport default plugin\n\n// Auto-install\nlet _Vue = null\nif (typeof window !== 'undefined') {\n  _Vue = window.Vue\n} else if (typeof global !== 'undefined') {\n  _Vue = global.Vue\n}\nif (_Vue) {\n  _Vue.use(plugin)\n}\n"],"names":["render","Object","this","config","theme","primary","Constructor","component","timeout","closing","options","methods","close","active","actions","async","params","Promise","resolve","reject","setTimeout","time","text","fn","action","assign","Default","plugin","Vue","extend","Snack","addEventListener","div","document","createElement","id","Date","now","body","appendChild","$on","$mount","prototype","$snack","opt","news","themes","forEach","item","name","color","default","all","meth","m","_Vue","window","global","use"],"mappings":"0LA4BA,OAAgBA,s1BACR,yBAEIC,aAEJ,2BACI,OACF,UACE,SACD,iBACC,uDAIeC,KAAKC,OAAOD,KAAKE,OAAOC,+BCxCtC,4BAGA,2BAGA,sBAEC,eACN,eACA,cACI,gBACH,GCRLC,SACAC,EAAY,KACZC,EAAU,KACVC,EAAU,KACVC,EAAU,KACRP,KACAQ,UACI,cACF,kBACG,WAoBLC,EAAQ,aACFC,QAAS,eACNL,IAGTM,EAAUC,eAAOC,EAAQZ,QACnBY,GACNT,EAAUM,SAAUJ,GAxBZ,MA2BRF,EAAUM,gBAEF,UACE,IA9BM,IAAII,QAAQ,SAACC,EAASC,UAAWC,WAAW,mBAAKF,KAAWG,SA+BpE,GAEW,iBAAZX,OACGY,KAAMZ,QAEhBa,EAAKb,EAAQc,SACTA,OAAST,qBACVQ,SACIX,oBAMJa,OAAOtB,EAAOA,OAAQuB,EAAQtB,WAC9BqB,OAAOlB,EAAWN,OAAOwB,UAAWf,GAAWN,aAC5CS,QAAS,IACTO,WAAWR,EAAOc,EAAQL,QAuBhCM,oBACKC,OAAKlB,8DACEkB,EAAIC,OAAOC,YAtElBC,iBAAiB,mBAAoB,gBACxCC,EAAMC,SAASC,cAAc,SAC7BC,GAAK,YAAcC,KAAKC,eACnBC,KAAKC,YAAYP,KACnB7B,OAASuB,KACJ,IAAIpB,aACHH,KAGHqC,IAAI,QAAS,mBAAK5B,QAClB6B,OAAO,IAAMT,EAAIG,aA8DpBV,OAAOC,EAAShB,KACnBgC,UAAUC,OAzBH,SAACC,OAEVC,KACAC,OACAnC,QAAUiC,EAAIjC,cACdA,QAAQoC,QAAQ,cACbC,EAAKC,MAAQD,EAAKC,OAChBD,EAAKC,eACDD,EAAKE,OAASxB,EAAQyB,QAAQ9C,kBAGpCoB,OAAOC,EAASoB,OACnBM,KACAC,EAAOpD,OAAOwB,UAAWd,EAASkC,cAC7BS,KACHA,GAAK,mBAAUxC,EAAQE,EAAQqC,EAAKC,UADrC,IAAIA,KAAKD,IAALC,UAGFF,EAQkBT,CAAOjC,KCzF9B6C,EAAO,WACW,oBAAXC,SACFA,OAAO5B,IACa,oBAAX6B,WACTA,OAAO7B,KAEZ2B,KACGG,IAAI/B"}